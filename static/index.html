<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Online Church Meeting - Prayer Meeting Platform</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- WebRTC Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/simple-peer@9.11.1/simplepeer.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/recordrtc@5.6.2/RecordRTC.min.js"></script>
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* Custom Tailwind Configuration */
        @tailwind base;
        @tailwind components;
        @tailwind utilities;
        
        /* Custom Styles */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 0.5rem;
            transform: scaleX(1); /* Ensure no mirroring */
        }
        
        .video-container {
            position: relative;
            background: #1f2937;
            border-radius: 0.5rem;
            overflow: hidden;
            aspect-ratio: 16/9;
        }
        
        .video-container.local-user {
            border: 2px solid #3b82f6;
        }
        
        .video-container.host-user {
            border: 2px solid #f59e0b;
        }
        
        @keyframes float-up {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(-200px) scale(1.5);
                opacity: 0;
            }
        }
        
        .floating-reaction {
            animation: float-up 3s ease-out forwards;
        }
        
        /* Mobile optimizations */
        @media (max-width: 768px) {
            .video-grid {
                grid-template-columns: 1fr !important;
            }
            
            .video-grid.grid-view {
                grid-template-columns: repeat(2, 1fr) !important;
            }
        }
        
        /* Touch-friendly buttons */
        .control-btn {
            min-width: 48px;
            min-height: 48px;
            touch-action: manipulation;
        }

        /* Mobile-specific control bar adjustments */
        @media (max-width: 768px) {
            .control-bar {
                padding: 0.75rem 0.5rem !important;
            }

            .control-bar > div {
                gap: 0.5rem !important;
                justify-content: center !important;
            }

            .control-btn {
                min-width: 44px !important;
                min-height: 44px !important;
                padding: 0.5rem !important;
            }

            /* Ensure leave button is always visible and prominent */
            #leaveMeetingBtn {
                display: flex !important;
                min-width: 56px !important;
                min-height: 56px !important;
                background-color: #dc2626 !important;
                order: 999; /* Move to end */
            }
        }
        
        /* Low data mode indicator */
        .low-data-active {
            filter: grayscale(0.3);
        }
        
        /* Loading spinner */
        .spinner {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 3px solid white;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Toast notifications */
        .toast {
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        /* Participant list scrollbar */
        .participant-list::-webkit-scrollbar {
            width: 6px;
        }
        
        .participant-list::-webkit-scrollbar-track {
            background: #374151;
        }
        
        .participant-list::-webkit-scrollbar-thumb {
            background: #6b7280;
            border-radius: 3px;
        }
        
        /* Chat scrollbar */
        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }
        
        .chat-messages::-webkit-scrollbar-track {
            background: #374151;
        }
        
        .chat-messages::-webkit-scrollbar-thumb {
            background: #6b7280;
            border-radius: 3px;
        }

        /* Screen sharing indicator */
        .screen-sharing-indicator {
            position: absolute;
            top: 8px;
            left: 8px;
            background: #ef4444;
            color: white;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            z-index: 10;
            animation: pulse-indicator 2s infinite;
        }

        @keyframes pulse-indicator {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* Speaker view styles */
        .video-grid.speaker-view {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .video-grid.speaker-view .video-container.main-speaker {
            flex: 1;
            max-height: calc(100vh - 300px);
        }

        .video-grid.speaker-view .thumbnails-container {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding: 8px;
        }

        .video-grid.speaker-view .video-container:not(.main-speaker) {
            width: 150px;
            height: 100px;
            flex-shrink: 0;
        }

        /* Active speaker border */
        .video-container.active-speaker {
            border: 3px solid #10b981 !important;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.3);
        }

        /* Modern button styles */
        .modern-btn {
            transition: all 0.2s ease;
            position: relative;
        }

        .modern-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.5);
        }

        .modern-btn:active {
            transform: translateY(0);
        }

        /* Gradient backgrounds */
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .gradient-bg-blue {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
        }

        /* Enhanced control bar */
        .control-bar {
            background: linear-gradient(to top, rgba(17, 24, 39, 0.95), rgba(31, 41, 55, 0.95));
            backdrop-filter: blur(10px);
        }

        /* Smooth transitions */
        * {
            transition: background-color 0.2s ease, color 0.2s ease;
        }

        /* Host control buttons */
        .host-control-btn {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            transition: all 0.2s;
        }

        .host-control-btn:hover {
            transform: scale(1.05);
        }

        /* Mute/Unmute Icon Overlay on Videos */
        .mute-indicator {
            position: absolute;
            bottom: 12px;
            left: 12px;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(4px);
            padding: 6px 10px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.875rem;
            z-index: 10;
            transition: all 0.3s ease;
        }

        .mute-indicator.muted {
            background: rgba(239, 68, 68, 0.8);
        }

        .mute-indicator.unmuted {
            background: rgba(16, 185, 129, 0.7);
        }

        .mute-indicator i {
            font-size: 0.875rem;
        }

        /* Theme toggle button */
        .theme-toggle {
            transition: transform 0.3s ease;
        }

        .theme-toggle:hover {
            transform: rotate(180deg);
        }

        /* Light mode styles */
        body.light-mode {
            background: #f3f4f6;
            color: #111827;
        }

        body.light-mode .bg-gray-900 {
            background: #f3f4f6 !important;
        }

        body.light-mode .bg-gray-800 {
            background: #ffffff !important;
            border-color: #e5e7eb !important;
        }

        body.light-mode .bg-gray-700 {
            background: #e5e7eb !important;
            color: #111827 !important;
        }

        body.light-mode .text-white {
            color: #111827 !important;
        }

        body.light-mode .text-gray-400 {
            color: #6b7280 !important;
        }

        body.light-mode .border-gray-700 {
            border-color: #e5e7eb !important;
        }

        body.light-mode .video-container {
            background: #e5e7eb;
        }

        body.light-mode .control-bar {
            background: linear-gradient(to top, rgba(255, 255, 255, 0.95), rgba(243, 244, 246, 0.95));
        }

        /* Sidebar Menu Styles */
        .sidebar-menu {
            position: fixed;
            top: 0;
            left: -100%;
            width: 280px;
            height: 100vh;
            background: linear-gradient(to bottom, rgba(17, 24, 39, 0.98), rgba(31, 41, 55, 0.98));
            backdrop-filter: blur(10px);
            z-index: 1000;
            transition: left 0.3s ease-in-out;
            overflow-y: auto;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.5);
        }

        .sidebar-menu.open {
            left: 0;
        }

        .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease-in-out;
        }

        .sidebar-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .sidebar-menu-item {
            display: flex;
            align-items: center;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid rgba(75, 85, 99, 0.3);
            cursor: pointer;
            transition: background 0.2s;
            min-height: 56px;
        }

        .sidebar-menu-item:hover {
            background: rgba(55, 65, 81, 0.5);
        }

        .sidebar-menu-item i {
            width: 24px;
            margin-right: 1rem;
            font-size: 1.25rem;
        }

        .hamburger-btn {
            position: fixed;
            top: 1rem;
            left: 1rem;
            z-index: 1001;
            width: 48px;
            height: 48px;
            background: rgba(31, 41, 55, 0.9);
            border: none;
            border-radius: 0.5rem;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .hamburger-btn:hover {
            background: rgba(55, 65, 81, 0.9);
            transform: scale(1.05);
        }

        .hamburger-btn:active {
            transform: scale(0.95);
        }

        body.light-mode .sidebar-menu {
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.98), rgba(243, 244, 246, 0.98));
        }

        body.light-mode .hamburger-btn {
            background: rgba(243, 244, 246, 0.9);
            color: #1f2937;
        }

        body.light-mode .sidebar-menu-item {
            border-bottom-color: rgba(209, 213, 219, 0.5);
        }

        body.light-mode .sidebar-menu-item:hover {
            background: rgba(229, 231, 235, 0.5);
        }

        /* Full-screen screen sharing styles */
        .screen-share-fullscreen {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100vw !important;
            height: 100vh !important;
            z-index: 900 !important;
            background: #000 !important;
            margin: 0 !important;
            border-radius: 0 !important;
        }

        .screen-share-fullscreen video {
            width: 100% !important;
            height: 100% !important;
            object-fit: contain !important;
        }

        .screen-share-active #videoGrid {
            display: none !important;
        }

        .screen-share-thumbnails {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 950;
            display: flex;
            gap: 0.5rem;
            padding: 0.5rem;
            background: rgba(17, 24, 39, 0.9);
            border-radius: 0.5rem;
            max-width: 90vw;
            overflow-x: auto;
        }

        .screen-share-thumbnail {
            width: 120px;
            height: 90px;
            flex-shrink: 0;
            border-radius: 0.375rem;
            overflow: hidden;
            border: 2px solid rgba(75, 85, 99, 0.5);
            cursor: pointer;
            transition: all 0.2s;
        }

        .screen-share-thumbnail:hover {
            border-color: #3b82f6;
            transform: scale(1.05);
        }

        .screen-share-thumbnail video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .screen-share-exit-btn {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 1000;
            padding: 0.75rem 1.5rem;
            background: rgba(220, 38, 38, 0.9);
            color: white;
            border: none;
            border-radius: 0.5rem;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s;
        }

        .screen-share-exit-btn:hover {
            background: rgba(220, 38, 38, 1);
            transform: scale(1.05);
        }

        .screen-share-label {
            position: fixed;
            top: 1rem;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            padding: 0.75rem 1.5rem;
            background: rgba(17, 24, 39, 0.9);
            color: white;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
    </style>
</head>
<body class="bg-gray-900 text-white overflow-hidden">
    
    <!-- Join Section -->
    <div id="joinSection" class="min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900">
        <div class="w-full max-w-md bg-gray-800 rounded-2xl shadow-2xl p-8">
            <div class="text-center mb-8">
                <i class="fas fa-church text-6xl text-blue-400 mb-4"></i>
                <h1 class="text-3xl font-bold mb-2">Online Church Meeting</h1>
                <p class="text-gray-400">Only for Prayer Meeting</p>
                <p class="text-gray-400">All GLory to Be Our LORD JESUS CHRIST <br> (The Son of GOD)</p>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-2">Your Name</label>
                    <input type="text" id="usernameInput" 
                           class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-white"
                           placeholder="Enter your name" value="Anonymous">
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Meeting ID (optional)</label>
                    <input type="text" id="meetingIdInput" 
                           class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-white"
                           placeholder="Enter meeting ID to join">
                </div>
                
                <button id="createMeetingBtn" 
                        class="w-full py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition-colors control-btn">
                    <i class="fas fa-plus-circle mr-2"></i>Create New Meeting
                </button>
                
                <button id="joinMeetingBtn" 
                        class="w-full py-3 bg-green-600 hover:bg-green-700 rounded-lg font-semibold transition-colors control-btn">
                    <i class="fas fa-sign-in-alt mr-2"></i>Join Meeting
                </button>
            </div>
            
            <div class="mt-6 text-center text-sm text-gray-400">
                <p>✨ Features: Video, Audio, Chat, Reactions</p>
                <p class="mt-1">📱 Works on mobile devices</p>
                <p class="mt-1">Made By Jesus Sheep Akash</p>
                
            </div>
        </div>
    </div>

    <!-- Sidebar Menu -->
    <div id="sidebarOverlay" class="sidebar-overlay"></div>
    <div id="sidebarMenu" class="sidebar-menu">
        <div class="p-6 border-b border-gray-700">
            <h2 class="text-xl font-bold">Menu</h2>
            <p class="text-sm text-gray-400 mt-1">Meeting Controls</p>
        </div>

        <div class="py-2">
            <div class="sidebar-menu-item" id="sidebarToggleAudio">
                <i class="fas fa-microphone"></i>
                <span>Mute / Unmute</span>
            </div>

            <div class="sidebar-menu-item" id="sidebarToggleVideo">
                <i class="fas fa-video"></i>
                <span>Stop / Start Video</span>
            </div>

            <div class="sidebar-menu-item" id="sidebarShareScreen">
                <i class="fas fa-desktop"></i>
                <span>Share Screen</span>
            </div>

            <div class="sidebar-menu-item" id="sidebarRecord">
                <i class="fas fa-microphone"></i>
                <span>Audio Recording</span>
            </div>

            <div class="sidebar-menu-item" id="sidebarToggleChat">
                <i class="fas fa-comment"></i>
                <span>Chat</span>
                <span id="sidebarUnreadBadge" class="hidden ml-auto bg-red-500 text-xs rounded-full w-6 h-6 flex items-center justify-center">0</span>
            </div>

            <div class="sidebar-menu-item" id="sidebarParticipants">
                <i class="fas fa-users"></i>
                <span>Participants</span>
                <span id="sidebarParticipantCount" class="ml-auto text-sm text-gray-400">0</span>
            </div>

            <div class="sidebar-menu-item" id="sidebarToggleView">
                <i class="fas fa-th"></i>
                <span>Toggle View (Grid/Speaker)</span>
            </div>

            <div class="sidebar-menu-item" id="sidebarTheme">
                <i class="fas fa-moon"></i>
                <span>Toggle Theme</span>
            </div>

            <div class="sidebar-menu-item" id="sidebarLowData">
                <i class="fas fa-signal"></i>
                <span>Low Data Mode</span>
                <span id="sidebarLowDataStatus" class="ml-auto text-xs text-gray-400">OFF</span>
            </div>

            <div class="sidebar-menu-item" id="sidebarCopyLink">
                <i class="fas fa-link"></i>
                <span>Copy Meeting Link</span>
            </div>

            <div class="sidebar-menu-item bg-red-600 bg-opacity-20 hover:bg-opacity-30" id="sidebarLeave">
                <i class="fas fa-phone-slash text-red-500"></i>
                <span class="text-red-500 font-semibold">Leave Meeting</span>
            </div>
        </div>

        <div class="p-6 border-t border-gray-700 text-sm text-gray-400">
            <p>Meeting ID: <span id="sidebarMeetingId" class="text-white font-mono">-</span></p>
            <p class="mt-2">Duration: <span id="sidebarTimer" class="text-white">00:00:00</span></p>
        </div>
    </div>

    <!-- Hamburger Menu Button -->
    <button id="hamburgerBtn" class="hamburger-btn hidden">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Meeting Section -->
    <div id="meetingSection" class="hidden h-screen flex flex-col bg-gray-900">
        
        <!-- Top Navigation Bar -->
        <div class="bg-gray-800 border-b border-gray-700 px-4 py-3 flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <i class="fas fa-church text-blue-400 text-xl"></i>
                <div>
                    <div class="flex items-center space-x-2">
                        <span class="font-semibold" id="navMeetingId">Meeting</span>
                        <span id="hostBadge" class="hidden px-2 py-0.5 bg-amber-500 text-xs rounded-full">Host</span>
                    </div>
                    <div class="text-xs text-gray-400" id="meetingTimer">00:00:00</div>
                </div>
            </div>
            
            <div class="flex items-center space-x-2 md:space-x-4">
                <div class="hidden md:flex items-center space-x-2 bg-gray-700 rounded-lg p-1">
                    <button id="gridViewBtn" class="px-3 py-2 bg-blue-600 hover:bg-blue-700 rounded transition-colors text-sm">
                        <i class="fas fa-th"></i> Grid
                    </button>
                    <button id="speakerViewBtn" class="px-3 py-2 hover:bg-gray-600 rounded transition-colors text-sm">
                        <i class="fas fa-user"></i> Speaker
                    </button>
                </div>

                <button id="copyLinkBtn" class="flex items-center space-x-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors control-btn" title="Copy Meeting Link">
                    <i class="fas fa-link"></i>
                    <span class="hidden lg:inline text-sm">Share Link</span>
                </button>

                <button id="themeToggleBtn" class="px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors control-btn theme-toggle" title="Toggle Dark/Light Mode">
                    <i class="fas fa-moon"></i>
                </button>

                <button id="participantListBtn" class="flex items-center space-x-2 px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors control-btn">
                    <i class="fas fa-users"></i>
                    <span id="navParticipantCount" class="font-semibold">1</span>
                </button>

                <button id="lowDataModeBtn" class="px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors control-btn hidden md:block">
                    <i class="fas fa-signal"></i>
                </button>
            </div>
        </div>
        
        <!-- Main Content Area -->
        <div class="flex-1 flex overflow-hidden">
            
            <!-- Video Grid -->
            <div class="flex-1 p-2 md:p-4 overflow-y-auto">
                <div id="videoGrid" class="video-grid grid gap-2 md:gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 auto-rows-fr">
                    <!-- Video containers will be added here dynamically -->
                </div>
            </div>
            
            <!-- Participant List Sidebar (Mobile: Overlay, Desktop: Sidebar) -->
            <div id="participantPanel" class="hidden fixed md:relative right-0 top-0 h-full w-full md:w-80 bg-gray-800 border-l border-gray-700 z-40 flex flex-col">
                <div class="p-4 border-b border-gray-700 flex items-center justify-between">
                    <h3 class="font-semibold">Participants</h3>
                    <button id="closeParticipantBtn" class="md:hidden p-2 hover:bg-gray-700 rounded-lg">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div id="participantList" class="flex-1 overflow-y-auto participant-list p-4 space-y-2">
                    <!-- Participant items will be added here -->
                </div>
            </div>
            
            <!-- Chat Panel (Mobile: Overlay, Desktop: Sidebar) -->
            <div id="chatPanel" class="hidden fixed md:relative right-0 top-0 h-full w-full md:w-96 bg-gray-800 border-l border-gray-700 z-40 flex flex-col">
                <div class="p-4 border-b border-gray-700 flex items-center justify-between">
                    <h3 class="font-semibold">Chat</h3>
                    <button id="closeChatBtn" class="p-2 hover:bg-gray-700 rounded-lg">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div id="chatMessages" class="flex-1 overflow-y-auto chat-messages p-4 space-y-3">
                    <!-- Chat messages will be added here -->
                </div>
                <div class="p-4 border-t border-gray-700">
                    <div class="flex space-x-2">
                        <input type="text" id="chatInput" 
                               class="flex-1 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"
                               placeholder="Type a message...">
                        <button id="sendChatBtn" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors control-btn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Bottom Control Bar -->
        <div class="control-bar border-t border-gray-700 px-4 py-3">
            <div class="flex items-center justify-center space-x-2 md:space-x-4 flex-wrap">
                <button id="toggleAudioBtn" class="control-btn px-4 md:px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-full transition-colors flex items-center space-x-2">
                    <i class="fas fa-microphone text-lg"></i>
                    <span class="hidden md:inline">Mute</span>
                </button>
                
                <button id="toggleVideoBtn" class="control-btn px-4 md:px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-full transition-colors flex items-center space-x-2">
                    <i class="fas fa-video text-lg"></i>
                    <span class="hidden md:inline">Stop Video</span>
                </button>
                
                <button id="shareScreenBtn" class="control-btn px-4 md:px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-full transition-colors flex items-center space-x-2 modern-btn">
                    <i class="fas fa-desktop text-lg"></i>
                    <span class="hidden md:inline">Share</span>
                </button>

                <button id="recordBtn" class="control-btn px-4 md:px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-full transition-colors flex items-center space-x-2 modern-btn">
                    <i class="fas fa-microphone text-lg"></i>
                    <span class="hidden md:inline">Audio Record</span>
                </button>

                <button id="toggleChatBtn" class="control-btn relative px-4 md:px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-full transition-colors flex items-center space-x-2 modern-btn">
                    <i class="fas fa-comment text-lg"></i>
                    <span class="hidden md:inline">Chat</span>
                    <span id="unreadBadge" class="hidden absolute -top-1 -right-1 bg-red-500 text-xs rounded-full w-5 h-5 flex items-center justify-center">0</span>
                </button>
                
                <button id="reactionsBtn" class="control-btn px-4 md:px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-full transition-colors">
                    <i class="fas fa-smile text-lg"></i>
                </button>
                
                <button id="leaveMeetingBtn" class="control-btn px-4 md:px-6 py-3 bg-red-600 hover:bg-red-700 rounded-full transition-colors flex items-center space-x-2">
                    <i class="fas fa-phone-slash text-lg"></i>
                    <span class="hidden md:inline">Leave</span>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Reactions Picker -->
    <div id="reactionsPicker" class="hidden fixed bottom-24 left-1/2 transform -translate-x-1/2 bg-gray-800 rounded-full px-4 py-3 shadow-2xl z-50 flex space-x-3">
        <button class="reaction-emoji text-3xl hover:scale-125 transition-transform" data-emoji="👍">👍</button>
        <button class="reaction-emoji text-3xl hover:scale-125 transition-transform" data-emoji="❤️">❤️</button>
        <button class="reaction-emoji text-3xl hover:scale-125 transition-transform" data-emoji="😂">😂</button>
        <button class="reaction-emoji text-3xl hover:scale-125 transition-transform" data-emoji="👏">👏</button>
        <button class="reaction-emoji text-3xl hover:scale-125 transition-transform" data-emoji="🎉">🎉</button>
        <button class="reaction-emoji text-3xl hover:scale-125 transition-transform" data-emoji="🙏">🙏</button>
    </div>
    
    <!-- Reactions Overlay -->
    <div id="reactionsOverlay" class="fixed inset-0 pointer-events-none z-30"></div>
    
    <!-- Toast Notifications Container -->
    <div id="toastContainer" class="fixed top-20 right-4 z-50 space-y-2 max-w-sm">
        <!-- Toast notifications will be added here -->
    </div>
    
    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50">
        <div class="text-center">
            <div class="spinner mx-auto mb-4"></div>
            <p class="text-lg">Connecting...</p>
        </div>
    </div>
    
    <script src="/static/app.js"></script>
</body>
</html>

